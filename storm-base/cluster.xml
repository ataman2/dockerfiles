<?xml version="1.0" encoding="UTF-8"?>

<configuration monitorInterval="60">

    <properties>
        <property name="pattern">%d{dd-MM-yyyy HH:mm:ss} %c{1.} [%p] %msg%n</property>
        <property name="patternMetris">%d %-8r %m%n</property>
    </properties>

    <appenders>
        <Console name="A1" target="SYSTEM_OUT">
            <PatternLayout>
                <pattern>${pattern}</pattern>
            </PatternLayout>
        </Console>

        <Console name="ACCESS" target="SYSTEM_OUT">
            <PatternLayout>
                <pattern>${pattern}</pattern>
            </PatternLayout>
        </Console>

        <Console name="METRICS" target="SYSTEM_OUT">
            <PatternLayout>
                <pattern>${patternMetris}</pattern>
            </PatternLayout>
        </Console>

        <Syslog name="syslog" format="RFC5424" host="localhost" port="514"
                protocol="UDP" appName="[${sys:daemon.name}]" mdcId="mdc" includeMDC="true"
                facility="LOCAL5" enterpriseNumber="18060" newLine="true" exceptionPattern="%rEx{full}"
                messageId="[${sys:user.name}:S0]" id="storm"/>
    </appenders>

    <loggers>
        <Logger name="backtype.storm.security.auth.authorizer" level="info">
            <AppenderRef ref="ACCESS"/>
        </Logger>

        <Logger name="backtype.storm.metric.LoggingMetricsConsumer" level="info">
            <AppenderRef ref="METRICS"/>
        </Logger>

        <root level="info">
            <appender-ref ref="A1"/>
            <appender-ref ref="syslog"/>
        </root>
    </loggers>

</configuration>
